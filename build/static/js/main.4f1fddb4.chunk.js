(this["webpackJsonptest-itrex"]=this["webpackJsonptest-itrex"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(8),i=n.n(c),s=n(2),o=n(3),u=n(6),l=n(5),d=n(4),h=n(0),f=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).props=e,r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.fieldValue;return Object(h.jsx)("td",{children:e})}}]),n}(a.a.Component),j=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).props=e,r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.person,n=e.onChangeActivePerson,r=Object.keys(t).map((function(e){var n=10*Math.random();return"adress"===e?Object(h.jsx)(f,{fieldValue:t[e].state},"person".concat(t[e].id+n,"__").concat(e)):"description"!==e?Object(h.jsx)(f,{fieldValue:t[e]},"person".concat(t[e].id+n,"__").concat(e)):void 0}));return Object(h.jsx)("tbody",{children:Object(h.jsx)("tr",{onClick:n,children:r})})}}]),n}(a.a.Component),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={currentIndexOfData:0},r.props=e,r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.onChangeActivePerson,r=e.activeFieldOfSort,a=e.onChangeActiveFieldOfSort,c=r.field,i=r.direction,s=t.map((function(e){var t=10*Math.random();return Object(h.jsx)(j,{onChangeActivePerson:function(){return n(e)},person:e},e.id+t)})),o=Object.keys(t[0]).map((function(e){var t=c===e&&!0===i?{color:"red"}:{color:"blue"};return"adress"===e?Object(h.jsxs)("th",{children:[Object(h.jsx)("button",{style:"state"===c&&i?{color:"red"}:{color:"blue"},onClick:function(e){a({field:"state",direction:"state"!==c||!i})},value:"state",children:"To top/down"},"sort-button-".concat(e)),"state"]},"head-row__state"):"description"!==e?Object(h.jsxs)("th",{children:[Object(h.jsx)("button",{style:t,onClick:function(t){var n=t.target.value;a({field:n,direction:c!==e||!i})},value:e,children:"To top/down"},"sort-button-".concat(e)),e]},"head-row__".concat(e)):void 0}));return Object(h.jsxs)("table",{style:{width:"100%",height:"400px"},border:"1",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:o})}),s]})}}]),n}(a.a.Component),b=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).props=e,r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.availableStates,n=e.onChangeActiveFilter,r=Array.from(t).map((function(e){return Object(h.jsx)("option",{className:"",value:e,children:e},"state-".concat(e))}));return Object(h.jsxs)("select",{onChange:function(e){var t=e.target.value;n(t)},defaultValue:"to-high",className:"places__sorting-type",id:"places-sorting",children:[Object(h.jsx)("option",{className:"",value:"NONE",children:"NONE"},"state-".concat("None")),r]})}}]),n}(a.a.Component),O=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).props=e,r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.onChangeSubstringInSearch;return Object(h.jsx)("input",{onBlur:function(t){return e(t.target.value)},type:"text"})}}]),n}(a.a.Component),v=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).props=e,r.typesOfButtons={NEXT:"NEXT",PREV:"PREV",INDEX:"INDEX"},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.numberOfButtons,r=t.onChangeCurrentIndex,a=t.currentIndexOfData,c=new Array(n).fill(null).map((function(t,n){var c=15*Math.random();return Object(h.jsx)("button",{disabled:n===a,onClick:function(t){var n=+t.target.value;r(n,e.typesOfButtons.INDEX)},value:n,name:"button-page-".concat(n),children:n+1},c)}));return Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:function(){r(null,e.typesOfButtons.PREV)},name:"prev-page",disabled:0===a,children:"Prev"}),c,Object(h.jsx)("button",{onClick:function(){r(null,e.typesOfButtons.NEXT)},name:"next-page",disabled:5===a||n<=1,children:"Next"})]})}}]),n}(a.a.Component),g=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).props=e,r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.person,t=e.firstName,n=e.lastName,r=e.description,a=e.adress;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"Profile info:"}),Object(h.jsxs)("p",{children:["Selected profile: ",Object(h.jsx)("span",{children:"".concat(t," ").concat(n)})]}),Object(h.jsxs)("p",{children:["Description: ",Object(h.jsx)("span",{children:r})]}),Object(h.jsxs)("p",{children:["Adress: ",Object(h.jsx)("span",{children:a.streetAddress})]}),Object(h.jsxs)("p",{children:["City: ",Object(h.jsx)("span",{children:a.city})]}),Object(h.jsxs)("p",{children:["State: ",Object(h.jsx)("span",{children:a.state})]}),Object(h.jsxs)("p",{children:["Index: ",Object(h.jsx)("span",{children:a.zip})]})]})}}]),n}(a.a.Component),x=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).props=e,r.state={currentIndexOfData:0,currentActivePerson:null,activeFilter:"NONE",activeFieldOfSort:{},substringInSeatch:""},r.showedPersons=[],r.onChangeActivePerson=r.onChangeActivePerson.bind(Object(u.a)(r)),r.onChangeCurrentIndex=r.onChangeCurrentIndex.bind(Object(u.a)(r)),r.onChangeActiveFilter=r.onChangeActiveFilter.bind(Object(u.a)(r)),r.onChangeActiveFieldOfSort=r.onChangeActiveFieldOfSort.bind(Object(u.a)(r)),r.onChangeSubstringInSearch=r.onChangeSubstringInSearch.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"splitDataByPage",value:function(e){var t=[],n=20;return function r(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(a!==e.length)return e.length<=n?(c=e.length,void t.push(e.slice(a,c))):(t.push(e.slice(a,c)),r(a+=n,c+=n))}(),t}},{key:"getSortedData",value:function(e,t){var n=t.field,r=t.direction;switch(n){case"id":return r?e.slice().sort((function(e,t){return t.id-e.id})):e.slice().sort((function(e,t){return e.id-t.id}));case"firstName":return r?e.slice().sort((function(e,t){return t.firstName.localeCompare(e.firstName)})):e.slice().sort((function(e,t){return e.firstName.localeCompare(t.firstName)}));case"lastName":return r?e.slice().sort((function(e,t){return t.lastName.localeCompare(e.lastName)})):e.slice().sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));case"email":return r?e.slice().sort((function(e,t){return t.email.localeCompare(e.email)})):e.slice().sort((function(e,t){return e.email.localeCompare(t.email)}));case"phone":return r?e.slice().sort((function(e,t){return t.phone[1].localeCompare(e.phone[1])})):e.slice().sort((function(e,t){return e.phone[1].localeCompare(t.phone[1])}));case"state":return r?e.slice().sort((function(e,t){return t.adress.state.localeCompare(e.adress.state)})):e.slice().sort((function(e,t){return e.adress.state.localeCompare(t.adress.state)}));default:return e}}},{key:"prepareDataForRenderingByFilter",value:function(e,t,n){if("NONE"===t){if(n){var r=e.filter((function(e){return e.firstName.includes(n)}));return r.length>0?this.splitDataByPage(r):this.splitDataByPage(e)}return this.splitDataByPage(e)}var a=e.filter((function(e){return e.adress.state===t}));return this.splitDataByPage(a)}},{key:"onChangeActivePerson",value:function(e){this.setState({currentActivePerson:e})}},{key:"onChangeCurrentIndex",value:function(e,t){switch(t){case"NEXT":this.setState((function(e){return{currentIndexOfData:e.currentIndexOfData+1}}));break;case"PREV":this.setState((function(e){return{currentIndexOfData:e.currentIndexOfData-1}}));break;default:this.setState({currentIndexOfData:e})}}},{key:"getTheAvailableStates",value:function(e){var t=new Set;return e.forEach((function(e){t.add(e.adress.state)})),t}},{key:"onChangeActiveFilter",value:function(e){this.setState({activeFilter:e,currentIndexOfData:0,activeFieldOfSort:{}})}},{key:"onChangeActiveFieldOfSort",value:function(e){this.setState({activeFieldOfSort:e,currentIndexOfData:0})}},{key:"onChangeSubstringInSearch",value:function(e){this.setState({substringInSeatch:e,activeFieldOfSort:{},currentIndexOfData:0})}},{key:"render",value:function(){var e=this.props.data,t=this.state,n=t.activeFilter,r=t.activeFieldOfSort,a=t.substringInSeatch,c=this.getSortedData(e,r);this.showedPersons=this.prepareDataForRenderingByFilter(c,n,a);var i=this.getTheAvailableStates(c),s=this.state,o=s.currentIndexOfData,u=s.currentActivePerson;return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(O,{onChangeSubstringInSearch:this.onChangeSubstringInSearch}),Object(h.jsx)(b,{onChangeActiveFilter:this.onChangeActiveFilter,availableStates:i}),Object(h.jsx)(p,{onChangeActiveFieldOfSort:this.onChangeActiveFieldOfSort,activeFieldOfSort:r,onChangeActivePerson:this.onChangeActivePerson,data:this.showedPersons[o]}),Object(h.jsx)(v,{currentIndexOfData:o,onChangeCurrentIndex:this.onChangeCurrentIndex,numberOfButtons:this.showedPersons.length}),u?Object(h.jsx)(g,{person:u}):null]})}}]),n}(a.a.Component);var C=function(){var e=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t.response}("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");return JSON.parse(e).sort((function(e,t){return e.id-t.id}))}();i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(x,{data:C})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.4f1fddb4.chunk.js.map