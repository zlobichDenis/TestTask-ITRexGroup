(this["webpackJsonptest-itrex"]=this["webpackJsonptest-itrex"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(4),c=n.n(s),i=n(5),o=n(6),l=n(2),u=n(8),h=n(7),d=n(0),f=function(e){var t=e.fieldValue;return Object(d.jsx)("td",{children:t})},j=function(e){var t=e.person,n=e.onChangeActivePerson,a=Object.keys(t).map((function(e){var n=10*Math.random();return"adress"===e?Object(d.jsx)(f,{fieldValue:t[e].state},"person".concat(t[e].id+n,"__").concat(e)):"description"!==e?Object(d.jsx)(f,{fieldValue:t[e]},"person".concat(t[e].id+n,"__").concat(e)):void 0}));return Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{onClick:n,children:a})})},b=function(e){var t=e.data,n=e.onChangeActivePerson,a=e.activeFieldOfSort,r=e.onChangeActiveFieldOfSort,s=a.field,c=a.isDescending,i=t.map((function(e){var t=10*Math.random();return Object(d.jsx)(j,{onChangeActivePerson:function(){return n(e)},person:e},e.id+t)})),o=Object.keys(t[0]).map((function(e){var t=s===e&&!0===c?{transform:"rotate(180deg)"}:{};return"adress"===e?Object(d.jsxs)("th",{children:[Object(d.jsx)("button",{className:"sort-button",onClick:function(){r({field:"state",isDescending:"state"!==s||!c})},value:"state",children:Object(d.jsx)("img",{style:"state"===s&&!0===c?{transform:"rotate(180deg)"}:{},alt:"sort",className:"sort-button__img",src:"https://img.icons8.com/external-those-icons-lineal-color-those-icons/50/000000/external-arrow-arrows-those-icons-lineal-color-those-icons-8.png"})},"sort-button-".concat(e)),"state"]},"head-row__state"):"description"!==e?Object(d.jsxs)("th",{children:[Object(d.jsx)("button",{className:"sort-button",onClick:function(t){var n=t.target.value;r({field:n,isDescending:s!==e||!c})},value:e,children:Object(d.jsx)("img",{alt:"sort",style:t,className:"sort-button__img",src:"https://img.icons8.com/external-those-icons-lineal-color-those-icons/50/000000/external-arrow-arrows-those-icons-lineal-color-those-icons-8.png"})},"sort-button-".concat(e)),e]},"head-row__".concat(e)):void 0}));return Object(d.jsxs)("table",{className:"container",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:o})}),i]})},p=function(e){var t=e.availableStates,n=e.onChangeActiveFilter,a=Array.from(t).map((function(e){return Object(d.jsx)("option",{className:"",value:e,children:e},"state-".concat(e))}));return Object(d.jsx)("div",{className:"select",children:Object(d.jsxs)("select",{onChange:function(e){var t=e.target.value;n(t)},defaultValue:"to-high",className:"select",id:"places-sorting",children:[Object(d.jsx)("option",{className:"",value:"NONE",children:"NONE"},"state-".concat("None")),a]})})},v=function(e){var t=e.onChangeSubstringInSearch;return Object(d.jsx)("input",{className:"search-input",placeholder:"Seach By Name: ",onChange:function(e){t(e.target.value)},type:"text"})},g=function(e){var t=e.numberOfButtons,n=e.onChangeCurrentIndex,a=e.currentIndexOfData,r="INDEX",s="NEXT",c="PREV",i=new Array(t).fill(null).map((function(e,t){var s=15*Math.random();return Object(d.jsx)("button",{className:"page-button",disabled:t===a,onClick:function(e){var t=+e.target.value;n(t,r)},value:t,name:"button-page-".concat(t),children:t+1},s)}));return Object(d.jsxs)("div",{className:"page-buttons",children:[Object(d.jsx)("button",{className:"page-button",onClick:function(){n(null,c)},name:"prev-page",disabled:0===a,children:"Prev"}),i,Object(d.jsx)("button",{className:"page-button",onClick:function(){n(null,s)},name:"next-page",disabled:a>=t-1||t<=1,children:"Next"})]})},O=function(e){var t=e.person,n=t.firstName,a=t.lastName,r=t.description,s=t.adress;return Object(d.jsxs)("div",{className:"show-container",children:[Object(d.jsx)("h3",{className:"show-container__title",children:"Profile info:"}),Object(d.jsxs)("p",{className:"show-container_text",children:["Selected profile: ",Object(d.jsx)("span",{children:"".concat(n," ").concat(a)})]}),Object(d.jsxs)("p",{className:"show-container_text",children:["Description: ",Object(d.jsx)("span",{children:r})]}),Object(d.jsxs)("p",{className:"show-container_text",children:["Adress: ",Object(d.jsx)("span",{children:s.streetAddress})]}),Object(d.jsxs)("p",{className:"show-container_text",children:["City: ",Object(d.jsx)("span",{children:s.city})]}),Object(d.jsxs)("p",{className:"show-container_text",children:["State: ",Object(d.jsx)("span",{children:s.state})]}),Object(d.jsxs)("p",{className:"show-container_text",children:["Index: ",Object(d.jsx)("span",{children:s.zip})]})]})},m=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).props=e,a.state={currentIndexOfData:0,currentActivePerson:null,activeFilter:"NONE",activeFieldOfSort:{},substringInSearch:""},a.onChangeActivePerson=a.onChangeActivePerson.bind(Object(l.a)(a)),a.onChangeCurrentIndex=a.onChangeCurrentIndex.bind(Object(l.a)(a)),a.onChangeActiveFilter=a.onChangeActiveFilter.bind(Object(l.a)(a)),a.onChangeActiveFieldOfSort=a.onChangeActiveFieldOfSort.bind(Object(l.a)(a)),a.onChangeSubstringInSearch=a.onChangeSubstringInSearch.bind(Object(l.a)(a)),a}return Object(o.a)(n,[{key:"splitDataByPage",value:function(e){var t=[];if(e.length>=20){var n=0;return e.forEach((function(a,r){(r+1)%20===0?(t.push(e.slice(n,r+1)),n+=20):n+20>e.length&&t.push(e.slice(n))})),t}return t.push(e),t}},{key:"getSortedData",value:function(e,t){var n=t.field,a=t.isDescending;switch(n){case"id":return a?e.slice().sort((function(e,t){return t.id-e.id})):e.slice().sort((function(e,t){return e.id-t.id}));case"firstName":return a?e.slice().sort((function(e,t){return t.firstName.localeCompare(e.firstName)})):e.slice().sort((function(e,t){return e.firstName.localeCompare(t.firstName)}));case"lastName":return a?e.slice().sort((function(e,t){return t.lastName.localeCompare(e.lastName)})):e.slice().sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));case"email":return a?e.slice().sort((function(e,t){return t.email.localeCompare(e.email)})):e.slice().sort((function(e,t){return e.email.localeCompare(t.email)}));case"phone":return a?e.slice().sort((function(e,t){return t.phone[1].localeCompare(e.phone[1])})):e.slice().sort((function(e,t){return e.phone[1].localeCompare(t.phone[1])}));case"state":return a?e.slice().sort((function(e,t){return t.adress.state.localeCompare(e.adress.state)})):e.slice().sort((function(e,t){return e.adress.state.localeCompare(t.adress.state)}));default:return e}}},{key:"prepareDataForRenderingByFilter",value:function(e,t,n){if("NONE"===t){if(n){var a=e.filter((function(e){return e.firstName.includes(n)}));return a.length>0?this.splitDataByPage(a):this.splitDataByPage(e)}return this.splitDataByPage(e)}var r=e.filter((function(e){return e.adress.state===t}));if(n){var s=r.filter((function(e){return e.firstName.includes(n)}));return s.length>0?this.splitDataByPage(s):this.splitDataByPage(r)}return this.splitDataByPage(r)}},{key:"onChangeActivePerson",value:function(e){this.setState({currentActivePerson:e})}},{key:"onChangeCurrentIndex",value:function(e,t){switch(t){case"NEXT":this.setState((function(e){return{currentIndexOfData:e.currentIndexOfData+1}}));break;case"PREV":this.setState((function(e){return{currentIndexOfData:e.currentIndexOfData-1}}));break;default:this.setState({currentIndexOfData:e})}}},{key:"getTheAvailableStates",value:function(e){var t=new Set;return e.forEach((function(e){t.add(e.adress.state)})),t}},{key:"onChangeActiveFilter",value:function(e){this.setState({activeFilter:e,currentIndexOfData:0,activeFieldOfSort:{}})}},{key:"onChangeActiveFieldOfSort",value:function(e){this.setState({activeFieldOfSort:e,currentIndexOfData:0})}},{key:"onChangeSubstringInSearch",value:function(e){this.setState({substringInSearch:e,activeFieldOfSort:{},currentIndexOfData:0})}},{key:"render",value:function(){var e=this.props.data,t=this.state,n=t.activeFilter,a=t.activeFieldOfSort,r=t.substringInSearch,s=this.getSortedData(e,a),c=this.prepareDataForRenderingByFilter(s,n,r),i=this.getTheAvailableStates(s),o=this.state,l=o.currentIndexOfData,u=o.currentActivePerson;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(v,{onChangeSubstringInSearch:this.onChangeSubstringInSearch}),Object(d.jsx)(p,{onChangeActiveFilter:this.onChangeActiveFilter,availableStates:i}),Object(d.jsx)(b,{onChangeActiveFieldOfSort:this.onChangeActiveFieldOfSort,activeFieldOfSort:a,onChangeActivePerson:this.onChangeActivePerson,data:c[l]}),Object(d.jsx)(g,{currentIndexOfData:l,onChangeCurrentIndex:this.onChangeCurrentIndex,numberOfButtons:c.length}),u?Object(d.jsx)(O,{person:u}):null]})}}]),n}(r.a.Component);var x=function(){var e=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t.response}("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");return JSON.parse(e).sort((function(e,t){return e.id-t.id}))}();c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(m,{data:x})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a3c59c8c.chunk.js.map